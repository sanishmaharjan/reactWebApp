name: Build
run-name: ${{ github.actor }} start build webApp ðŸš€
on:
  pull_request:
    types: [synchronize, closed, opened]
    branches:
      - dev
      - master
  
jobs:
  compare:
    name: 'Compare base & head bundle sizes'
    runs-on: ubuntu-latest
    #needs: [ build-web-app, build-base-web-app ]
    steps:
      - name: Download base artifact
        uses: actions/download-artifact@v1
        with:
          name: base-stats
      - name: Download head artifact
        uses: actions/download-artifact@v1
        with:
          name: head-stats
      - name: Diff between base & head
        uses: chronotruck/webpack-stats-diff-action@1.0.0
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          base_stats_path: ./base-stats/stats.json
          head_stats_path: ./head-stats/stats.json
